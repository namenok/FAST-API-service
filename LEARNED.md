

# LEARNED — FastAPI

**Засвоєно в процесі виконання:**

* Архітектура асинхронного веб-фреймворку на Python
* Робота з endpoint’ами, параметрами запитів та відповідями
* Інтеграція з Celery та Redis для асинхронної обробки

**Як інтегровано у рішення:**

* Створено `POST /events` та `GET /stats/*` endpoint’и
* Middleware для rate limiting
* Логування і метрики

**Де використано в коді:**

* Модулі: `main.py`, `app/api`

**Плюси:**

* Висока продуктивність (async/await)
* Автоматична документація через OpenAPI/Swagger
* Легко інтегрувати асинхронні задачі

**Мінуси:**

* Новий стек — треба звикнути до асинхронності


**Коли використовувати / коли уникати:**

* Використовувати, якщо потрібен асинхронний API з сучасною документацією
* Уникати, якщо проект великий, синхронний та потрібен готовий екосистемний фреймворк

---

# LEARNED — Swagger / OpenAPI

**Засвоєно в процесі виконання:**

* Автоматична генерація документації для API
* Тестування endpoint’ів через інтерактивний інтерфейс

**Як інтегровано у рішення:**

* Документація доступна через `/docs` і `/redoc`

**Де використано в коді:**

* Вбудовано у FastAPI (`app = FastAPI()`)

**Плюси:**

* Зручний інтерактивний тест API

**Коли використовувати / коли уникати:**

* Використовувати завжди для публічних або тестових API
* Уникати, якщо документація не потрібна

---

# LEARNED — PostgreSQL / агрегаційні функції

**Засвоєно в процесі виконання:**

* Використання SQL для аналітичних запитів (`DAU`, `Top events`, `Retention`)
* Використання агрегаційних функцій (COUNT, GROUP BY)

**Як інтегровано у рішення:**

* `GET /stats/*` endpoint’и для аналітики

**Де використано в коді:**

* Модулі: `app/analytics.py`

**Плюси:**

* Потужна аналітика без додаткових інструментів
* Легко забезпечити ідемпотентність через унікальний `event_id`

**Мінуси:**

* Вимагає правильного індексування

**Коли використовувати / коли уникати:**

* Використовувати для структурованих даних і аналітики
* Уникати, якщо дані дуже неструктуровані або обсяг надзвичайно великий

---

# LEARNED — Redis + Celery

**Засвоєно в процесі виконання:**

* Асинхронні задачі через Celery
* Робота з брокером повідомлень Redis

**Як інтегровано у рішення:**

* Асинхронна обробка подій після POST /events

**Де використано в коді:**

* Модулі: `app/tasks.py`, `celery_worker.py`

**Плюси:**

* Масштабованість та стійкість до пікових навантажень

**Мінуси:**

* Потрібно налаштувати брокер
* Пам’ять Redis може бути обмеженням

**Коли використовувати / коли уникати:**

* Використовувати для асинхронних задач і черг

---

# LEARNED — Benchmark / Performance Testing

**Засвоєно в процесі виконання:**

* Написання скрипта `benchmark.py` для вимірювання швидкості обробки подій
* Вимірювання DAU, Top-events, Retention на великих об’ємах даних

**Як інтегровано у рішення:**

* Скрипт для POST endpoint, вимірювання швидкості і виводу метрик

**Де використано в коді:**

* `benchmark_api.py`

**Плюси:**

* Допомагає виявити вузькі місця
* Дає точні дані про продуктивність сервісу

**Мінуси:**

* Локальний benchmark не завжди відображає продакшн-навантаження

**Коли використовувати / коли уникати:**

* Використовувати для перевірки швидкодії і тестування навантаження
* Уникати як єдиний критерій продуктивності у великій системі

